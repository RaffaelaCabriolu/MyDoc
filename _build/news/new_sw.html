

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>New software and module scheme &mdash; HPC Physics documentation 0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> HPC Physics documentation
          

          
          </a>

          
            
            
              <div class="version">
                0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../clusters/getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="news.html">News and notifications</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting help</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../help/contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/staff.html">Support staff and Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/hpc-qa-sessions.html">Forum, Open Question &amp; Answer Sessions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Jobs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../jobs/dos_and_donts.html">Dos and don’ts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jobs/batch.html">Batch system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jobs/examples.html">Job script examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../jobs/slurm_parameter.html">SLURM Workload Manager</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../jobs/job_management.html">Managing jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jobs/monitoring.html">Monitoring your jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jobs/running_mpi_jobs.html">Running MPI jobs</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HPC Physics documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>New software and module scheme</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/news/new_sw.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="new-software-and-module-scheme">
<span id="new-sw"></span><h1>New software and module scheme<a class="headerlink" href="#new-software-and-module-scheme" title="Permalink to this headline">¶</a></h1>
<p><strong>On the 9th-10th of May 2017, the default module setup changed. It is likely that you will have problems loading modules and jobs waiting to start might crash. Jobs already running should not be affected.</strong></p>
<p>What this means:
We have many new software packages installed, that were not visible by default,
though they were already accessible. On the afore mentioned days we made these packages visible by default. There are several big changes that you will experience, and sadly this might break your job scripts and cause you error messages when trying to load modules. Jobs that are waiting to start might crash at start because they can not load modules, but already running jobs should run without problems. We apologize for these problems and we believe that this way of switching is still a better alternative than shutting Stallo down.</p>
<p>If you have trouble or questions, please, check this manual and contact us.</p>
<p>Here are the main changes you will experience:</p>
<section id="change-of-software-module-names">
<h2>Change of software module names<a class="headerlink" href="#change-of-software-module-names" title="Permalink to this headline">¶</a></h2>
<p>You will still be able to use the “old” software you used before, but many names of sw packages will change.
The name changes are in using mixed case instead of just small case, f.e. “python” is will become “Python”, “openmpi” becomes “OpenMPI”, and so on. The version of the modules has also changed. In most modules the version now contains some basic information on what it was compiled with - f.e. intel/2016a or foss/2016a (Free Open Source Software, commonly referred to as GNU) - and in some cases also information on some dependency - f.e. Python/2.7.12. In the new installation, the name “intel” has a somewhat different meaning from the old installations: loading intel/13.0 will give you the intel module, and you will have icc and ifort available to you; loading intel/2016a will load several packages including icc, ifort, imkl and impi. More information on this coming soon.</p>
<p>If you are looking for a package, try:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ module avail &lt;package_name&gt;
</pre></div>
</div>
<p>This command is case insensitive, and lists you all modules, which you can load for this package
(both from the new and the old installations). If you get too many results because the name of your package is part of other names (f.e. “R”, “intel”, or “Python”) add a “/” at the end of the name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ module avail &lt;package_name&gt;/
</pre></div>
</div>
</section>
<section id="behavior-of-potentially-conflicting-modules">
<h2>Behavior of potentially conflicting modules<a class="headerlink" href="#behavior-of-potentially-conflicting-modules" title="Permalink to this headline">¶</a></h2>
<p>Another important change is behavior of potentially conflicting modules. In the “old setup” you are
not able to have two conflicting modules - f.e. openmpi and impi - loaded at the same time.
This is only partially true for the “new scheme” and you will need to pay more attention to this.
With the new packages, it is also more common that when you load one package it will automatically
load several other packages that it needs to function.
Check what you have currently loaded with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ module load
</pre></div>
</div>
<p>or <code class="docutils literal notranslate"><span class="pre">ml</span></code> for short, and unload conflicting modules, or do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ module purge
</pre></div>
</div>
<p>to remove all loaded packages and start over.</p>
</section>
<section id="stdenv-and-stdmod">
<h2>StdEnv and StdMod<a class="headerlink" href="#stdenv-and-stdmod" title="Permalink to this headline">¶</a></h2>
<p>By default, you will have StdEnv and StdMod loaded. StdEnv sets up the paths and other variables for you to have a working module environment. It has a “sticky” tag and will not be unloaded with a <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">purge</span></code> or a <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">unload</span> <span class="pre">StdEnv</span></code>. We strongly recommend keeping it loaded.
StdMod loads the default system modules. You are welcome to unload it, if you wish, and both <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">unload</span> <span class="pre">StdMod</span></code> or <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">purge</span></code> will unload it.</p>
</section>
<section id="lmod-warning-rebuild-your-saved-collection">
<h2>Lmod warning “rebuild your saved collection”<a class="headerlink" href="#lmod-warning-rebuild-your-saved-collection" title="Permalink to this headline">¶</a></h2>
<p>Lmod allows a user to save a bundle of modules as a collection using <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">save</span> <span class="pre">&lt;collection_name&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">restore</span> <span class="pre">&lt;collection_name&gt;</span></code>. This enables you to quickly get the same list of modules loaded if you tend to use the same modules over and over.
With a new module scheme came a different system MODULEPATH. For this reason, if you have some module collections saved, you will experience the following warning: “Lmod Warning:  The system MODULEPATH has changed: please rebuild your saved collection.”
To solve this you need to remove your old collections and create them again. We apologize for the inconvenience.</p>
</section>
<section id="if-you-are-already-using-mod-setup-sh-or-home-easybuild">
<h2>If you are already using “mod_setup.sh” or “/home/easybuild/”<a class="headerlink" href="#if-you-are-already-using-mod-setup-sh-or-home-easybuild" title="Permalink to this headline">¶</a></h2>
<p>If you have already started using the new modules by loading the “notur” module and sourcing “mod_setup.sh”, simply remove these two steps and continue working as normal. The same goes for any references to /home/easybuild/. We kept these options working for now to reduce the number of potentially crashing jobs, but we plan to remove them in the near future, so we recommend removing those lines from any new jobs you launch. You do not need the module “varset” any more, StdEnv has taken over its functionality. If the only reason you were using the “notur” module was to access the newer installations, you do not need it either. If you were using the “notur” module to run ADF or other software, then you still need to continue using it.</p>
</section>
</section>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, HPC Physics group - NTNU

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>